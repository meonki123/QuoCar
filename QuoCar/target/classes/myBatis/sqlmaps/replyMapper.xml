<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <!-- 다른 mapper와 중독되지 않도록 네임스페이스 기재 -->
  <mapper namespace="Reply">  
  
  	<!-- 댓글 입력 -->
  	<insert id="insertReply">
  		INSERT INTO 	REPLY(
  						RNO, 
  						BNO, 
  						REPLYTEXT, 
  						REPLYER
  						)
  		VALUES 			
  		(
  		REPLY_SEQ.NEXTVAL
  		, #{bno}
  		, #{replytext}
  		, #{replyer}
  		)
  	</insert>
  	
    <!-- 댓글 목록 -->
    <select id="listReply" resultType="com.quocar.reply.vo.ReplyVo"> 
  		SELECT 		RNO, 
  					BNO, 
  					REPLYTEXT, 
  					REPLYER, 
  					USERNAME 
  		AS 			USERNAME, 
  					R.REGDATE, 
  					R.UPDATEDATA
  		FROM 		REPLY R, 
  					MENUS M
		WHERE R.REPLYER = M.USERID 
		AND BNO=#{bno}
		ORDER BY RNO
   	</select>
</mapper>


